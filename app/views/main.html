<script type="text/ng-template" id="addTemplate.html">
  <div class="modal-header">
    <h4 class="modal-title">Enter New Template Name:</h4>
  </div>
  <div class="modal-body">
    <input type="text" ng-model="templateName" class="form-control" placeholder="Template Name">
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary" ng-click="ok()">OK</button>
    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
  </div>
</script>

<div class="panel panel-primary">
  <div class="panel-heading">Template</div>
  <div class="panel-body">
    <div class="dropdown">
      <button class="btn btn-default dropdown-toggle" type="button" id="template">
        {{template.name}}
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" role="menu" aria-labelledby="template">
        <li role="presentation"><a role="menuitem" tabindex="-1"
                                   ng-click="setTemplate(t)" ng-repeat="t in templates">{{t.name}}</a>
        </li>
        <li class="divider"></li>
        <li><a ng-click="addTemplate()">Add Template</a></li>
      </ul>
    </div>
  </div>
</div>
<div class="panel panel-default">
  <div class="panel-heading">Grid Size</div>
  <div class="panel-body">
    <table class="table-condensed">
      <tr>
        <td>
          <div class="dropdown">
            <button class="btn btn-default dropdown-toggle" type="button" id="rowCount">
              Rows: {{template.rows}}
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="rowCount">
              <li role="presentation"><a role="menuitem" tabindex="-1"
                                         ng-click="setRows(n + 1)" ng-repeat="n in [] | range:maxRows">{{n + 1}}</a>
              </li>
            </ul>
          </div>
        </td>
        <td>
          <div class="dropdown">
            <button class="btn btn-default dropdown-toggle" type="button" id="colCount">
              Columns: {{template.columns()}}
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="colCount">
              <li role="presentation"><a role="menuitem" tabindex="-1"
                                         ng-click="setColumns(n + 1)" ng-repeat="n in [] | range:maxColumns">{{n + 1}}</a>
              </li>
            </ul>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
<div class="panel panel-default">
  <div class="panel-heading">Action View</div>
  <div class="panel-body">
    <table class="table-condensed">
      <tr ng-repeat="row in [] | range:template.rows">
        <td ng-repeat="col in [] | range:template.columns()">
          <div class="dropdown">
            <button class="btn btn-default dropdown-toggle" type="button" id="cell{{row}}{{col}}">
              {{template.grid.get(row, col)}}
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="cell{{row}}{{col}}">
              <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="template.grid.set(row, col, group)"
                                         ng-repeat="group in groups">{{group}}</a></li>
            </ul>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
